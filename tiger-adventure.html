<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mike Tyson's Tiger Adventure</title>
  <link href="https://fonts.cdnfonts.com/css/public-pixel" rel="stylesheet">
  <link rel="stylesheet" href="tiger-adventure.css">
  <script type="text/javascript" src="draw.js"></script>
  <script type="text/javascript" src="high-score.js"></script>
  <script type="text/javascript" src="game.js"></script>
  <script type="text/javascript" src="timer.js"></script>
</head>
<body>
<div id="backgroundLayer"></div>
<canvas id="gameCanvas" width="320" height="288"></canvas>
<div id="highScoreDiv">
  <table id="highScoreTable">
    <thead>
      <tr>
        <th>Name</th>
        <th>Score</th>
      </tr>
    </thead>
    <tbody id="highScoreList"></tbody>
  </table>
</div>
<div id="timerDiv">
  <div id="hourglass" class="spin"></div>
  <div id="timer">0s</div>
</div>
<div id="gameOverPopup" class="popup-container superPixelFont">
  <div class="popup-content">
    <p>Game Over! Your score: <span id="finalScore"></span></p>
    <p>Enter your name:</p>
    <input type="text" id="playerNamePopup" placeholder="Enter your name">
    <button onclick="restartGame()">üïπÔ∏è Play Again üïπÔ∏è</button>
  </div>
</div>
<div id="levelDisplay">Level: 1</div>
<script>
  const canvas = document.getElementById('gameCanvas');
  const ctx = canvas.getContext('2d');

  const width = canvas.width = 320;
  const height = canvas.height = 288;

  let tigerX = width / 2;
  const tigerY = height - 50;
  const tigerSize = 30; // Pixel size of the tiger
  const tigerColor = '#FFA500'; // Orange color

  let tysonX = width / 2;
  const tysonY = 25;
  const tysonSize = 45;
  let tysonDirection = 'left';

  let isLeftArrowPressed = false;
  let isRightArrowPressed = false;

  let obstacles = [];
  let obstacleSpeed = 2;
  const minObstacleWidth = 10;
  const maxObstacleWidth = 10;
  const minObstacleHeight = 10;
  const maxObstacleHeight = 10;
  const minObstacleSpeed = 2;
  const maxObstacleSpeed = 6.5;
  const numObstacles = 1;

  let powerups = []
  let powerupSpeed = 1

  let score = 0;
  let startTime = null;
  let level = 1;
  let levelStartTime = null;
  const levelDuration = 10 * 1000; // 10 secs
  const speedIncrementDuration = 10000; // 10 seconds

  let highScores = JSON.parse(localStorage.getItem('highScores')) || [];
  let gamePaused = false; // Variable to track game state
  let timerInterval; // Variable to hold timer interval ID
  let speedIncreaseInterval; // Variable to hold speed increase interval ID
  let drawInterval; // Variable to hold draw interval ID

  const backgroundLayer = document.getElementById('backgroundLayer');
  const backgroundImage = new Image();
  // backgroundImage.src = 'Jungle.jpg'; // Parallax background image
  let backgroundOffset = 0;

  document.addEventListener('keydown', function(event) {
    if (event.code === 'ArrowLeft') {
      isLeftArrowPressed = true;
    } else if (event.code === 'ArrowRight') {
      isRightArrowPressed = true;
    }
  });

  document.addEventListener('keyup', function(event) {
    if (event.code === 'ArrowLeft') {
      isLeftArrowPressed = false;
    } else if (event.code === 'ArrowRight') {
      isRightArrowPressed = false;
    }
  });

  createObstaclesIfNeeded();
  displayHighScores();
  drawBackground();
  draw();

  // Start timer when the game starts
  startTime = Date.now();
  timerInterval = setInterval(updateTimer, 1000); // Start the timer

  // Increase level and speed every 10 seconds
  
  speedIncreaseInterval = setInterval(increaseLevelAndSpeed, speedIncrementDuration);
</script>
</body>
</html>
